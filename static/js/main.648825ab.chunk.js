(this["webpackJsonpreact-p5js-tonejs-starter-kit"]=this["webpackJsonpreact-p5js-tonejs-starter-kit"]||[]).push([[0],{16:function(e,t,i){},29:function(e,t,i){"use strict";i.r(t);var a=i(1),o=i.n(a),n=i(10),s=i.n(n),r=(i(16),i(5)),c=i(2);window.p5=c;i(18);var d=i(11),l=i(0);function u(){return Object(l.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(l.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(l.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var h=function(e){for(var t,i,a=e.length;0!==a;)i=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[i],e[i]=t;return e};var g=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=[],o=0;o<4;){var n={h:e=(e+=90*o)<360?e:e-360,s:t,b:i};o++,a.push(n)}return a},b=i.p+"static/media/hexagons-no-2.a28c7879.ogg",v=i.p+"static/media/hexagons-no-2.6cb01f6d.mid",f=function(){var e=Object(a.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.baseSize=0,e.baseDivisors=[2,4,8,16,32],e.baseDivisor=64,e.colourPalette=[],e.baseRepititions=[12,18,24],e.baseRepitition=1,e.loadMidi=function(){d.Midi.fromUrl(v).then((function(t){console.log(t);var i=t.tracks[5].notes,a=t.tracks[3].notes,o=t.tracks[1].notes.filter((function(e){return 43!=e.midi})),n=Object.assign({},t.tracks[7].controlChanges);e.scheduleCueSet(i,"executeCueSet1"),e.scheduleCueSet(a,"executeCueSet2"),e.scheduleCueSet(o,"executeCueSet3"),e.scheduleCueSet(n[Object.keys(n)[0]],"executeCueSet4"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(b,e.loadMidi),e.song.onended(e.logCredits)},e.setup=function(){e.noLoop(),e.colorMode(e.HSB),e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.reset()},e.draw=function(){e.audioLoaded&&e.song.isPlaying()},e.scheduleCueSet=function(t,i){for(var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1,n=1,s=0;s<t.length;s++){var r=t[s],c=r.ticks,d=r.time;(c!==o||a)&&(r.currentCue=n,e.song.addCue(d,e[i],r),o=c,n++)}},e.executeCueSet1=function(t){if(e.changeBaseSize(),e.baseRepitition>1){var i=[];e.hexagonGrid=e.hexagonGrid.slice(0,Math.ceil(e.hexagonGrid.length/4)),e.background(0,0,0,.4*e.globalOpacity),e.fill(0,0,0,e.globalOpacity),e.noStroke(),console.log(e.globalOpacity),e.hexagon(e.width/2,e.height/2,e.bigHexSize,0),e.hexagonGrid.forEach((function(t){for(var a=t.colour,o=t.x,n=t.y,s=e.baseSize,r=0;r<e.baseRepitition;r++){for(var c=0;c<r;c++)s-=s/10;i.push({x:o,y:n,colour:a,size:s})}})),i=(i=h(i)).slice(0,Math.ceil(i.length/2));for(var a=t.duration,o=parseInt(1e3*a)/i.length,n=function(t){var a=i[t],n=(a.x,a.y,a.size),s=a.colour;setTimeout((function(){e.noFill(),e.strokeWeight(1),e.stroke(s.h,s.s,s.b,1.5*e.globalOpacity),e.hexagon(a.x,a.y,n)}),o*t)},s=0;s<i.length;s++)n(s)}else e.background(0,0,0,.9*e.globalOpacity),e.hexagonGrid.forEach((function(t){var i=t.colour;e.fill(i.h,i.s,i.b,e.globalOpacity),e.stroke(i.h,i.s,i.b,.5),e.hexagon(t.x,t.y,e.baseSize)}))},e.executeCueSet2=function(t){var i=e.baseRepititions.indexOf(e.baseRepitition),a=Object(r.a)(e.baseRepititions);a.splice(i,1),e.baseRepitition=e.random(a)},e.bigHexSize=0,e.bigHexStep=0,e.globalOpacity=0,e.executeCueSet3=function(t){var i=t.ticks,a=e.map(i%122880,0,122880,0,32),o=Math.floor(e.map(i%122880,0,122880,0,16)%8),n=e.colourPalette[o],s=e.bigHexSize+e.bigHexStep*a;e.noFill(),e.strokeWeight(6),e.stroke(n.h,n.s,n.b,e.globalOpacity),e.hexagon(e.width/2,e.height/2,s,0)},e.executeCueSet4=function(t){e.globalOpacity=t.value},e.hexagon=function(t,i,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.TWO_PI/12;a/=2,e.angleMode(e.RADIANS);var n=e.TWO_PI/6;e.beginShape();for(var s=o;s<e.TWO_PI+o;s+=n){var r=t+e.cos(s)*a,c=i+e.sin(s)*a;e.vertex(r,c)}e.endShape(e.CLOSE)},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play()))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){e.background(0,0,100);var t=e.random(360);e.colourPalette=g(t,e.random(50,100),e.random(50,100)),e.colourPalette=e.colourPalette.concat(g(t+30,e.random(50,100),e.random(50,100))),e.baseDivisors=[2,4,8,16,32],e.baseDivisor=64,e.baseRepitition=1,e.bigHexSize=e.height>=e.width?e.width:e.height,e.bigHexSize=1.15*e.bigHexSize,e.bigHexStep=(e.width-e.bigHexSize)/32,e.changeBaseSize()},e.changeBaseSize=function(){e.baseRepitition>1&&(e.baseDivisors=[6,12,24,48]);var t=e.baseDivisors.indexOf(e.baseDivisor),i=Object(r.a)(e.baseDivisors);i.splice(t,1),e.baseDivisor=e.random(i),e.baseSize=e.height>=e.width?e.width:e.height,e.baseSize=e.baseSize/e.baseDivisor,e.populateHexagonGrid()},e.hexagonGrid=[],e.populateHexagonGrid=function(){e.hexagonGrid=[];var t=0;if(e.baseRepitition>1)for(var i=e.height>=e.width?Math.floor(e.width/e.baseSize):Math.floor(e.height/e.baseSize),a=i/2,o=e.width/2-e.baseSize*i/2+e.baseSize/2,n=0;n<a;n++){for(var s=0;s<i;s++){var r=e.colourPalette[t%e.colourPalette.length];e.hexagonGrid.push({x:s*e.baseSize+o,y:e.height/2+e.baseSize*n,colour:r}),e.hexagonGrid.push({x:s*e.baseSize+o,y:e.height/2-e.baseSize*n,colour:r}),t++}i--,o+=e.baseSize/2}else for(var c=0;c<Math.floor(e.width/e.baseSize)+2;c++)for(var d=0;d<Math.floor(e.height/e.baseSize)+2;d++){var l=e.colourPalette[t%e.colourPalette.length];e.hexagonGrid.push({x:d%2===0?c*e.baseSize:c*e.baseSize-e.baseSize/2,y:d*e.baseSize,colour:l}),t++}e.hexagonGrid=h(e.hexagonGrid)},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(a.useEffect)((function(){new c(t,e.current)}),[]),Object(l.jsx)("div",{ref:e,children:Object(l.jsx)(u,{})})};var p=function(){return Object(l.jsx)(f,{})};s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.648825ab.chunk.js.map